/* Opción B-v2: escala fija en px y repetición vertical para que no se corte. */

:root {
  /* Escala de la ilustración */
  --bg-width-mobile: 1400px;    /* te funcionó bien en móvil */
  --bg-width-desktop: 1500px;   /* BAJALO para ver íconos más chicos en desktop */

  /* Encuadre */
  --bg-pos-mobile: center top;
  --bg-pos-desktop: center top;
}

.public-layout {
  position: relative;
  display: flex;
  flex-direction: column;
  min-height: 100svh;           /* iOS safe */
  color: white;

  background-image: url('/background-desktop-pattern.jpg');

  /* Clave: no usar cover; repetir sólo en Y para no “cortar” */
  background-repeat: repeat-y;
  background-position: var(--bg-pos-mobile);
  background-size: var(--bg-width-mobile) auto;

  background-attachment: scroll; /* iOS safe */
}

/* Tablet / Desktop */
@media (min-width: 768px) {
  .public-layout {
    background-position: var(--bg-pos-desktop);
    background-size: var(--bg-width-desktop) auto;

    /* Parallax opcional en desktop; dejalo en scroll si no lo querés */
    background-attachment: fixed;
  }
}

/* Safari iOS fuerza scroll para evitar glitches */
@supports (-webkit-touch-callout: none) {
  .public-layout {
    background-attachment: scroll !important;
  }
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .public-layout {
    background-attachment: scroll !important;
  }
}
